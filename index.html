<!DOCTYPE html>
<html>

<head>
    <title>title</title>
    <meta charset="utf-8">
    <script src="dist/seed.js"></script>
    <style type="text/css">
        .red {
            color: red;
        }

        .todo.done {
            text-decoration: line-through;
        }
    </style>
</head>

<body>
    <div id="test">
        <!-- <p mv-text="msg | capitalize"></p>
        <p mv-text="msg | uppercase"></p>
        <p mv-on="click:remove">bye</p>
        <p mv-text="total | money"></p>
        <p class="button">Change Message</p>
        <p mv-class="red:error" mv-show="error">Error</p> -->
        <ul id="todos">
            <li class="todo"
                mv-controller="Todo"
                mv-each="todo:todos"
                mv-class="done:todo.done"
                mv-on="click:todo.toggle"
                mv-text="todo.title"
            ></li>
        </ul>
    </div>
    <script>
        var MVVM = require('seed');

        MVVM.filter('money', function (value) {
            return value
                ? '$' + value.toFixed(2)
                : ''
        })

        // MVVM.controller('TodoList', function (scope, seed) {
        //     console.log('controller invoked')
        //     scope.changeMessage = function () {
        //         scope.msg = (Math.random() * 100).toFixed(2) + '% awesomeness'
        //     }
        //     scope.remove = function () {
        //         seed.destroy()
        //     }
        // })
        
        MVVM.controller('Todo', function (scope) {
            scope.toggle = function () {
                scope.done = !scope.done
            }
        })
        var list = [
            {
                title: 'make this shit kinda work',
                done: true
            },
            {
                title: 'make this shit work',
                done: false
            },
            {
                title: 'more features!!!',
                done: false
            }
        ]
        var s = Date.now()
        var data = {
            msg: 'hello!',
            total: 9999,
            error: true,
            todos: [
                {
                    title: 'hello!',
                    done: true
                },
                {
                    title: 'hello!!',
                    done: false
                },
                {
                    title: 'hello!!!',
                    done: false
                }
            ]
        }
        var app = MVVM.bootstrap({
            el: '#test',
            data: data
        })
        console.log(Date.now() - s + 'ms')
    </script>
</body>

</html>